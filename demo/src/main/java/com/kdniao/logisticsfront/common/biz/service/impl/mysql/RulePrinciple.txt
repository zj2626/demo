查询优化依据
    1. 代价估算模型
    2. 关系代数         :数学规则理论依据,公式推导
    3. 启发式规则        :实践经验

    常用的启发式规则:
        1.嵌套连接消除: 内连接可以把表示嵌套关系的括号去掉
            a join (b join c) == a join b join c
        2.选择操作下推:
        3.投影操作下推:

    常见的经验规则:
        1.在索引列上排序一般使用索引的有序性进行排序
        2.选择率低于10%,利用索引的效果比全表扫描更好
        3.当表数据少时,全表扫描可能更好


查询优化规则:
    关系代数:
        1.从运算符角度:
            1.选择运算符
                1.基本选择性质: 对同一个表的同样选择条件,进行合并,减少操作中元组个数      依据: 幂等性
                2.分解有复杂条件的选择: 合取(合并多个选择为更少的徐亚求值的选择), 析取(分解选择使分解后的成员选择可以被移动或者单独优化)   依据: 常量传递/OR转换并集规则
                3.选择和叉积: 尽可能先做选择, 减少叉积用到的元组数
                4.选择和集合: 选择下推到集合运算之下 (优先做选择,然后再进行集合操作)      依据: 选择在并交叉集合上满足分配律
                5.选择和投影: 选择放在投影之前
            2.投影运算符:
                1.基本投影性质: 尽可能先做投影(针对行存数据库)                          依据: 幂等性
                2.投影和集合: 投影下推到集合运算之下 (优先做投影,然后再进行集合操作)      依据: 投影在并交叉集合上满足分配律

        2.从运算规则角度:
            1. 连接/笛卡尔积的交换律: 外表小内表大比较利于"基于块的嵌套连接算法"
            2. 连接/笛卡尔积的结合律: 新的结合利于减少中间关系的大小,则回去先进行结合处理
            3. 投影的串接定律:  同一个关系上,只需要做一次投影,且一次投影选择多列一次完成
            4. 选择的串接定律:  选择条件可以合并,使得可一次检查就检查全部条件,减少过滤次数
            5. 选择和投影的交换律: 先投影后选择可以改为先选择后投影
            6. 选择和投影的交换律: 先选择后投影可以改为带有选择条件的投影后再选择,再完成外围投影
            7. 选择和笛卡尔积的分配律: 如果条件中选择只和关系中的部分相关,则可以把这个条件下推到相关关系上,先做选择再做积运算 (选择下推)
            8. 选择和并的分配律: 同上
            9. 选择和差的分配律: 同上
            10.投影和笛卡尔积的分配律: 先投影后做积,可减少做积前每个元组的长度
            11.投影和并的分配律: 同上

    启发式规则(常见):
        1. 支持       优先做选择和投影
        2. 支持       子查询的消除
        3. 支持       嵌套连接的消除
        4. 支持       外连接的消除
        5. 不支持     连接的消除
        6. 部分支持   使用等价谓词重写-对条件化简
        7. 支持       语义优化
        8. 不支持     分组合并
        9. 支持       通过索引优化分组/排序/distinct操作
        10.支持       对视图查询变为基于表的查询
        11.支持       连接条件下推
        12.不支持     分组下推
        13.支持       谓词上拉
        14.不支持     用连接取代集合操作
        15.不支持     用union all取代or操作
